!function(e,i){var t,n,a=function(e){},s=function(i){var t,a=e(".family-food-takeover .video-link");0===i.data&&(a.each(function(i,n){if(e(n).hasClass("active"))return t=i<a.length-1?a.eq(i+1):a.eq(0),!1}),n.play(t))};n={play:function(i){e(".family-food-takeover .video-link.active").removeClass("active"),i.addClass("active"),t.loadVideoById(i.data("video-id"))},init:function(e){var i=e.eq(0);i.addClass("active"),t=new YT.Player("takeover-player",{height:"390",width:"640",videoId:i.data("video-id"),playerVars:{controls:0,showinfo:0,rel:0},events:{onReady:a,onStateChange:s}})},destroy:function(){t.destroy()}},i.familyFoodTakeoverVideo=n}(jQuery,window),function(e,i,t,n){function a(){switch($siteWrapper.css("height",s.height()),o.css("min-height",e(n).height()),i.getScreenType()){case"smallest":case"extra-extra-small":case"extra-small":case"small":$backgroundImage.attr("src",$backgroundImage.data("mobile-src"));break;default:$backgroundImage.attr("src",$backgroundImage.data("desktop-src"))}}var s=e(".family-food-takeover"),o=s.find(".content-container");if($bookPromo=s.find(".book-promo"),cookieName="jo-hide-family-food-takeover",$siteWrapper=e(".site-wrapper"),$backgroundImage=s.find(".background-image"),s.find(".close-link").click(function(l){l.preventDefault();var d,r=new Date;r.setDate(r.getDate()+1),d=new Date(r.getFullYear(),r.getMonth(),r.getDate()),e.cookie(cookieName,!0,{expires:d,path:"/"}),s.removeClass("visible"),n.removeEventListener("resize",a),i.delay(function(){t.destroy(),s.addClass("hidden"),o.css("min-height",0),$siteWrapper.css("height","auto").removeClass("lock"),e(".family-food-book-promo").removeClass("hidden")},400)}),s.find(".video-link").click(function(i){i.preventDefault();var n=e(i.currentTarget);n.hasClass("active")||t.play(n)}),s.length>0){var l,d=e.cookie(cookieName),r=!1,c=new Date,f=s.data("push-days").split(",");for(l=0;l<f.length;l++)if(c.getDay()===parseInt(f[l])){r=!0;break}"true"!==d&&r&&(n.onYouTubeIframeAPIReady=function(){s.removeClass("hidden"),i.delay(function(){e(".family-food-book-promo").addClass("hidden"),o.css("min-height",e(n).height()),$siteWrapper.addClass("lock"),a(),n.addEventListener("resize",a),s.addClass("visible")},400).delay(function(){s.find(".book-promo").addClass("visible"),t.init(s.find(".video-link"))},400).delay(function(){a()})})}}(jQuery,window.jo,window.familyFoodTakeoverVideo,window),function(e,i,t){function n(t,n){var a,s=e(".recipe-list-template .template"),o=s.clone(),l="",d=o.find(".difficulty"),r=o.find(".cooking-time");for(o.find(".recipe-link").attr("href",n.permalink),o.find(".recipe-title").html(n.title),o.find(".information-title").html(n.title),o.find(".recipe-image").attr("src",n.image),""!==n.introduction&&(l=n.introduction,l.length>100&&(l=l.substring(0,100)+"..."),o.find(".quote").text(l).removeClass("hidden")),n.difficulty&&(d.addClass(i.replaceAll(n.difficulty," ","-")),d.find(".text").text(n.difficulty),d.removeClass("hidden")),n.time&&(r.find(".text").text(n.time),r.addClass(i.replaceAll(n.time," ","-")),r.removeClass("hidden")),a=0;a<n.tags.length;a++)switch(n.tags[a]){case"vegetarian":o.find(".vegetarian-icon").removeClass("hidden");break;case"vegan":o.find(".vegan-icon").removeClass("hidden");break;case"dairy-free":o.find(".dairy-free-icon").removeClass("hidden");break;case"gluten-free":o.find(".dairy-free-icon").removeClass("hidden")}o.removeClass("hidden").removeClass("template"),c.append(o)}function a(e){var i;for(i=0;i<e.length;i++)n(i+1,e.shift());c.slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,responsive:[{breakpoint:768,settings:{centerMode:!0,variableWidth:!0}}]})}function s(i,s,o){c.find(".recipe-item").remove(),e.ajax({type:"post",dataType:"json",url:t,data:{action:"get_random_family_food_recipes",ingredient:i,diet:s},success:function(e){var i;for(l=e.recipes,c.hasClass("slick-initialized")&&(c.slick("unslick"),c.html("")),i=0;i<e.recipes.length;i++)n(i+1,l.shift());a(e.recipes),o(e)},error:function(e){d.removeClass("hidden"),d.removeClass("loading")}})}function o(){m.height(r.height())}var l,d=e(".inspiration-button"),r=e(".inspiration-panel"),c=r.find(".recipe-list"),f=r.find(".diet-sub-list"),v=r.find(".ingredient-sub-list"),u=!1,m=e(".family-food-inspiration-page-container");d.click(function(){0==u&&(u=!0,d.addClass("loading"),s(!1,!1,function(t){var n,a=r.find(".diet-sub-list");for(a.find(".filter-item").not(".template").remove(),n=0;n<t.diets.length;n++){var s,l=a.find(".template"),c=l.clone();c.find(".filter-link").text(t.diets[n]),s=i.convertStringToId(t.diets[n]),c.find(".filter-link").data("target",s),c.find(".filter-link").addClass("gtm-inspiration-panel-filter-"+s),c.removeClass("hidden").removeClass("template"),a.append(c)}window.setTimeout(function(){e(window).trigger("resize"),e(".inspiration-panel").removeClass("hidden"),window.setTimeout(function(){o(),window.addEventListener("resize",o),e(".stackla-content").addClass("hidden"),e(".old-stackla-container").addClass("hidden"),e("#promo-banner").addClass("hidden"),e(".recipe-ingredients").addClass("hidden"),i.scrollTo(r),window.setTimeout(function(){d.addClass("hidden"),u=!1},200)},400)},400)}))}),r.find(".close-link").click(function(){window.removeEventListener("resize",o),d.removeClass("hidden"),window.setTimeout(function(){e(".inspiration-panel").addClass("hidden"),e(".stackla-content").removeClass("hidden"),e(".old-stackla-container").removeClass("hidden"),e("#promo-banner").removeClass("hidden"),e(".recipe-ingredients").removeClass("hidden"),m.height("auto"),c.slick("unslick"),window.setTimeout(function(){d.removeClass("loading")},200)},50)}),r.find(".information-control-link").click(function(e){e.preventDefault(),r.find(".recipe-item.slick-current .information-panel").toggleClass("open")}),r.find(".previous-control-link").click(function(e){e.preventDefault(),c.slick("slickPrev")}),r.find(".next-control-link").click(function(e){e.preventDefault(),c.slick("slickNext")}),r.find(".filter-list-title").click(function(i){e(i.currentTarget).toggleClass("active"),r.find(".filter-list").toggleClass("open")}),r.find(".filter-sub-title").click(function(i){i.preventDefault();var t=e(i.currentTarget),n=r.find(t.data("target"));n.hasClass("open")?(t.removeClass("active"),n.removeClass("open")):(t.addClass("active"),r.find(".sub-list").removeClass("open"),n.addClass("open"))}),r.on("click",".filter-link",function(t){t.preventDefault();var n=e(t.currentTarget),a=n.closest(".sub-list"),o=!1,l=!1,d=f.closest(".filter-item").find(".filter-sub-title"),u=v.closest(".filter-item").find(".filter-sub-title"),m=n.closest(".sub-list").closest(".filter-item").find(".filter-sub-title");c.addClass("loading"),a.hasClass("diet-sub-list")?(o=n.data("target"),u.html(u.data("default-text")),u.removeClass("active")):a.hasClass("ingredient-sub-list")&&(l=i.convertStringToId(n.text()),d.html(d.data("default-text")),d.removeClass("active")),n.hasClass("active")?s(!1,!1,function(){m.html(m.data("default-text")),m.removeClass("active"),n.closest(".sub-list").removeClass("open"),r.find(".filter-link.active").removeClass("active"),c.removeClass("loading")}):s(l,o,function(){m.text(n.text()),n.closest(".sub-list").removeClass("open"),r.find(".filter-link.active").removeClass("active"),n.addClass("active"),c.removeClass("loading")})})}(jQuery,window.jo,ajaxURL),function(e,i,t){var n=e(".inspiration-button");e(document).ready(function(){n.addClass("active"),i.setTimeout(function(){n.addClass("enlarge"),i.setTimeout(function(){n.find(".search-icon").addClass("visible")},400)},400)})}(jQuery,window,jo);